{"ast":null,"code":"import _objectSpread from \"/Users/franciscojavierjimenezcohen/Desktop/trabajo Final/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/franciscojavierjimenezcohen/Desktop/trabajo Final/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/franciscojavierjimenezcohen/Desktop/trabajo Final/front/src/componentes/Detalle.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardMedia, Button, Typography, Container, Rating } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useParams } from \"react-router-dom\";\nimport AddShoppingCartIcon from \"@mui/icons-material/AddShoppingCart\";\nimport \"../hojas-de-estilo/Detalle.css\";\n\nconst ListadeLibros2 = () => {\n  let _useParams = useParams(),\n      id_ejemplar = _useParams.id_ejemplar;\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        ejemplares1 = _useState2[0],\n        setEjemplares = _useState2[1];\n\n  const getEjemplar = async () => {\n    try {\n      const response = await fetch(\"http://localhost:4000/Ejemplar/\".concat(id_ejemplar));\n      const jsonData = await response.json();\n      console.log(\"Carga de ejemplares\", jsonData);\n      setEjemplares(jsonData);\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getEjemplar();\n  }, []);\n\n  const cargarEnCarrito = () => {\n    // Leemos localStorage\n    const datosEnCarrito = JSON.parse(localStorage.getItem(\"carrito\"));\n    const libroExiste = datosEnCarrito.some(item => item.titulo === ejemplares1.titulo);\n\n    if (libroExiste) {\n      const img = ejemplares1.img ? require(\"../imagenes/\".concat(ejemplares1.img)) : \"\";\n      ejemplares1.img = img;\n      const libro = ejemplares1.cantidadEnCarrito ? _objectSpread({}, ejemplares1, {\n        cantidadEnCarrito: ejemplares1.cantidadEnCarrito + 1\n      }) : _objectSpread({}, ejemplares1, {\n        cantidadEnCarrito: 1\n      });\n      const libroActualizado = datosEnCarrito.map(item => {\n        if (item.titulo === ejemplares1.titulo) {\n          return libro;\n        }\n      });\n      localStorage.setItem(\"carrito\", JSON.stringify(libroActualizado));\n    } else {\n      const img = ejemplares1.img ? require(\"../imagenes/\".concat(ejemplares1.img)) : \"\";\n      ejemplares1.img = img;\n      datosEnCarrito.push(ejemplares1);\n      localStorage.setItem(\"carrito\", JSON.stringify(datosEnCarrito));\n    }\n  };\n\n  const titulo = ejemplares1.titulo,\n        sinopsis = ejemplares1.sinopsis,\n        editorial = ejemplares1.editorial,\n        autor = ejemplares1.autor,\n        anioedicion = ejemplares1.anioedicion,\n        tipoencuadernado = ejemplares1.tipoencuadernado,\n        genero = ejemplares1.genero,\n        stock = ejemplares1.stock,\n        precioactual = ejemplares1.precioactual,\n        isbn = ejemplares1.isbn;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"400\",\n    className: \"contenedor-detalle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    sx: {\n      display: \"flex\",\n      backgroundColor: \"transparent\",\n      boxShadow: 0,\n      borderRadius: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardMedia, {\n    sx: {\n      width: 231,\n      margin: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"fotografia\",\n    src: ejemplares1.img ? require(\"../imagenes/\".concat(ejemplares1.img)) : \"\",\n    alt: \"Libro no encontrado\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      margin: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    sx: {\n      flex: \"1 0 auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"div\",\n    variant: \"h5\",\n    color: \"white\",\n    fontFamily: \"Roboto\",\n    fontSize: 40,\n    lineHeight: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, titulo), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"#E7E7E7\",\n    lineHeight: 1,\n    component: \"div\",\n    fontSize: 20,\n    fontFamily: \"Roboto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, sinopsis, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"#E7E7E7\",\n    lineHeight: 1.2,\n    component: \"div\",\n    fontFamily: \"Roboto\",\n    fontSize: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, \"\\u2022 Editorial: \", editorial), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"#E7E7E7\",\n    lineHeight: 1.2,\n    component: \"div\",\n    fontFamily: \"Roboto\",\n    fontSize: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, \"\\u2022 Genero: \", genero), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"#E7E7E7\",\n    lineHeight: 1.2,\n    component: \"div\",\n    fontFamily: \"Roboto\",\n    fontSize: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, \"\\u2022 Autor: \", autor), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"#E7E7E7\",\n    lineHeight: 1.2,\n    component: \"div\",\n    fontFamily: \"Roboto\",\n    fontSize: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, \"\\u2022 A\\xF1o de edicion: \", anioedicion), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"#E7E7E7\",\n    lineHeight: 1.2,\n    component: \"div\",\n    fontFamily: \"Roboto\",\n    fontSize: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, \"\\u2022 Tipo de encuadernaci\\xF3n: \", tipoencuadernado), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"#E7E7E7\",\n    lineHeight: 1.2,\n    component: \"div\",\n    fontFamily: \"Roboto\",\n    fontSize: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, \"\\u2022 Stock: \", stock), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"#E7E7E7\",\n    lineHeight: 1.2,\n    component: \"div\",\n    fontFamily: \"Roboto\",\n    fontSize: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }, \"\\u2022 ISBN: \", isbn), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"#E7E7E7\",\n    lineHeight: 1.2,\n    component: \"div\",\n    fontFamily: \"Roboto\",\n    fontSize: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }\n  }, \"\\u2022 Precio: $\", precioactual))), /*#__PURE__*/React.createElement(Card, {\n    sx: {\n      maxWidth: 600,\n      backgroundColor: \"transparent\",\n      boxShadow: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    sx: {\n      backgroundColor: \"#8381FF\",\n      borderRadius: 25,\n      margin: 0.8,\n      fontFamily: \"Roboto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 15\n    }\n  }, \" \", \"Comprar\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => cargarEnCarrito(),\n    variant: \"contained\",\n    sx: {\n      backgroundColor: \"#8381FF\",\n      borderRadius: 25,\n      margin: 0.8,\n      fontFamily: \"Roboto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 15\n    }\n  }, \" \", \"A\\xF1adir al carrito \", /*#__PURE__*/React.createElement(AddShoppingCartIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 35\n    }\n  })), /*#__PURE__*/React.createElement(Rating, {\n    name: \"half-rating\",\n    defaultValue: 2.5,\n    precision: 0.5,\n    size: \"medium\",\n    marginLeft: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default ListadeLibros2;","map":{"version":3,"sources":["/Users/franciscojavierjimenezcohen/Desktop/trabajo Final/front/src/componentes/Detalle.jsx"],"names":["React","useState","useEffect","Card","CardContent","CardMedia","Button","Typography","Container","Rating","Box","useParams","AddShoppingCartIcon","ListadeLibros2","id_ejemplar","ejemplares1","setEjemplares","getEjemplar","response","fetch","jsonData","json","console","log","err","error","message","cargarEnCarrito","datosEnCarrito","JSON","parse","localStorage","getItem","libroExiste","some","item","titulo","img","require","libro","cantidadEnCarrito","libroActualizado","map","setItem","stringify","push","sinopsis","editorial","autor","anioedicion","tipoencuadernado","genero","stock","precioactual","isbn","display","backgroundColor","boxShadow","borderRadius","width","margin","flexDirection","flex","maxWidth","fontFamily"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Button,\r\n  Typography,\r\n  Container,\r\n  Rating,\r\n} from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport AddShoppingCartIcon from \"@mui/icons-material/AddShoppingCart\";\r\nimport \"../hojas-de-estilo/Detalle.css\";\r\n\r\nconst ListadeLibros2 = () => {\r\n  let { id_ejemplar } = useParams();\r\n\r\n  const [ejemplares1, setEjemplares] = useState([]);\r\n\r\n  const getEjemplar = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `http://localhost:4000/Ejemplar/${id_ejemplar}`\r\n      );\r\n      const jsonData = await response.json();\r\n      console.log(\"Carga de ejemplares\", jsonData);\r\n      setEjemplares(jsonData);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getEjemplar();\r\n  }, []);\r\n\r\n  const cargarEnCarrito = () => {\r\n    // Leemos localStorage\r\n    const datosEnCarrito = JSON.parse(localStorage.getItem(\"carrito\"));\r\n    const libroExiste = datosEnCarrito.some(\r\n      (item) => item.titulo === ejemplares1.titulo\r\n    );\r\n    if (libroExiste) {\r\n      const img = ejemplares1.img\r\n        ? require(`../imagenes/${ejemplares1.img}`)\r\n        : \"\";\r\n      ejemplares1.img = img;\r\n      const libro = ejemplares1.cantidadEnCarrito\r\n        ? {\r\n            ...ejemplares1,\r\n            cantidadEnCarrito: ejemplares1.cantidadEnCarrito + 1,\r\n          }\r\n        : { ...ejemplares1, cantidadEnCarrito: 1 };\r\n      const libroActualizado = datosEnCarrito.map((item) => {\r\n        if (item.titulo === ejemplares1.titulo) {\r\n          return libro;\r\n        }\r\n      });\r\n      localStorage.setItem(\"carrito\", JSON.stringify(libroActualizado));\r\n    } else {\r\n      const img = ejemplares1.img\r\n        ? require(`../imagenes/${ejemplares1.img}`)\r\n        : \"\";\r\n      ejemplares1.img = img;\r\n      datosEnCarrito.push(ejemplares1);\r\n      localStorage.setItem(\"carrito\", JSON.stringify(datosEnCarrito));\r\n    }\r\n  };\r\n\r\n  const {\r\n    titulo,\r\n    sinopsis,\r\n    editorial,\r\n    autor,\r\n    anioedicion,\r\n    tipoencuadernado,\r\n    genero,\r\n    stock,\r\n    precioactual,\r\n    isbn,\r\n  } = ejemplares1;\r\n\r\n  return (\r\n    <>\r\n      <Container maxWidth=\"400\" className=\"contenedor-detalle\">\r\n        <Card\r\n          sx={{\r\n            display: \"flex\",\r\n            backgroundColor: \"transparent\",\r\n            boxShadow: 0,\r\n            borderRadius: 8,\r\n          }}\r\n        >\r\n          <CardMedia sx={{ width: 231, margin: 3 }}>\r\n            <img\r\n              className=\"fotografia\"\r\n              src={\r\n                ejemplares1.img ? require(`../imagenes/${ejemplares1.img}`) : \"\"\r\n              }\r\n              alt=\"Libro no encontrado\"\r\n            />\r\n          </CardMedia>\r\n          <Box sx={{ display: \"flex\", flexDirection: \"column\", margin: 1 }}>\r\n            <CardContent sx={{ flex: \"1 0 auto\" }}>\r\n              <Typography\r\n                component=\"div\"\r\n                variant=\"h5\"\r\n                color=\"white\"\r\n                fontFamily=\"Roboto\"\r\n                fontSize={40}\r\n                lineHeight={2}\r\n              >\r\n                {titulo}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"subtitle1\"\r\n                color=\"#E7E7E7\"\r\n                lineHeight={1}\r\n                component=\"div\"\r\n                fontSize={20}\r\n                fontFamily=\"Roboto\"\r\n              >\r\n                {sinopsis}\r\n                <Typography\r\n                  variant=\"subtitle1\"\r\n                  color=\"#E7E7E7\"\r\n                  lineHeight={1.2}\r\n                  component=\"div\"\r\n                  fontFamily={\"Roboto\"}\r\n                  fontSize={20}\r\n                >\r\n                  • Editorial: {editorial}\r\n                </Typography>\r\n                <Typography\r\n                  variant=\"subtitle1\"\r\n                  color=\"#E7E7E7\"\r\n                  lineHeight={1.2}\r\n                  component=\"div\"\r\n                  fontFamily={\"Roboto\"}\r\n                  fontSize={20}\r\n                >\r\n                  • Genero: {genero}\r\n                </Typography>\r\n                <Typography\r\n                  variant=\"subtitle1\"\r\n                  color=\"#E7E7E7\"\r\n                  lineHeight={1.2}\r\n                  component=\"div\"\r\n                  fontFamily={\"Roboto\"}\r\n                  fontSize={20}\r\n                >\r\n                  • Autor: {autor}\r\n                </Typography>\r\n                <Typography\r\n                  variant=\"subtitle1\"\r\n                  color=\"#E7E7E7\"\r\n                  lineHeight={1.2}\r\n                  component=\"div\"\r\n                  fontFamily={\"Roboto\"}\r\n                  fontSize={20}\r\n                >\r\n                  • Año de edicion: {anioedicion}\r\n                </Typography>\r\n                <Typography\r\n                  variant=\"subtitle1\"\r\n                  color=\"#E7E7E7\"\r\n                  lineHeight={1.2}\r\n                  component=\"div\"\r\n                  fontFamily={\"Roboto\"}\r\n                  fontSize={20}\r\n                >\r\n                  • Tipo de encuadernación: {tipoencuadernado}\r\n                </Typography>\r\n                <Typography\r\n                  variant=\"subtitle1\"\r\n                  color=\"#E7E7E7\"\r\n                  lineHeight={1.2}\r\n                  component=\"div\"\r\n                  fontFamily={\"Roboto\"}\r\n                  fontSize={20}\r\n                >\r\n                  • Stock: {stock}\r\n                </Typography>\r\n                <Typography\r\n                  variant=\"subtitle1\"\r\n                  color=\"#E7E7E7\"\r\n                  lineHeight={1.2}\r\n                  component=\"div\"\r\n                  fontFamily={\"Roboto\"}\r\n                  fontSize={20}\r\n                >\r\n                  • ISBN: {isbn}\r\n                </Typography>\r\n                <Typography\r\n                  variant=\"subtitle1\"\r\n                  color=\"#E7E7E7\"\r\n                  lineHeight={1.2}\r\n                  component=\"div\"\r\n                  fontFamily={\"Roboto\"}\r\n                  fontSize={20}\r\n                >\r\n                  • Precio: ${precioactual}\r\n                </Typography>\r\n              </Typography>\r\n            </CardContent>\r\n            <Card\r\n              sx={{\r\n                maxWidth: 600,\r\n                backgroundColor: \"transparent\",\r\n                boxShadow: 0,\r\n              }}\r\n            >\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{\r\n                  backgroundColor: \"#8381FF\",\r\n                  borderRadius: 25,\r\n                  margin: 0.8,\r\n                  fontFamily: \"Roboto\",\r\n                }}\r\n              >\r\n                {\" \"}\r\n                Comprar\r\n              </Button>\r\n              <Button\r\n                onClick={() => cargarEnCarrito()}\r\n                variant=\"contained\"\r\n                sx={{\r\n                  backgroundColor: \"#8381FF\",\r\n                  borderRadius: 25,\r\n                  margin: 0.8,\r\n                  fontFamily: \"Roboto\",\r\n                }}\r\n              >\r\n                {\" \"}\r\n                Añadir al carrito <AddShoppingCartIcon />\r\n              </Button>\r\n              <Rating\r\n                name=\"half-rating\"\r\n                defaultValue={2.5}\r\n                precision={0.5}\r\n                size=\"medium\"\r\n                marginLeft={2}\r\n              />\r\n            </Card>\r\n          </Box>\r\n        </Card>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ListadeLibros2;\r\n"]},"metadata":{},"sourceType":"module"}