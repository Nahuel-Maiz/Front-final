{"ast":null,"code":"var _jsxFileName = \"/home/estefania/Escritorio/front/src/componentes/NewRes.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Container, Grid } from '@mui/material';\nimport { Card, CardContent } from '@mui/material';\nimport { Typography } from '@mui/material';\nimport { TextField } from '@mui/material';\nimport { Button } from '@mui/material';\nimport '../hojas-de-estilo/NewRes.css';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst NuevaResenia = () => {\n  _s();\n\n  const [datos, setDatos] = useState([]);\n  const params = useParams();\n\n  const cargarDatos = async correo => {\n    const response = await fetch(`http://localhost:4000/Usuario2/${correo}`);\n    const data = await response.json();\n    setDatos(data);\n  };\n\n  useEffect(() => {\n    if (params.correo) {\n      cargarDatos(params.correo);\n    }\n  }, [params.correo]);\n  let {\n    id_ejemplar\n  } = useParams();\n  const [ejemplares1, setEjemplares] = useState([]);\n\n  const getEjemplar = async () => {\n    try {\n      const response = await fetch(`http://localhost:4000/Ejemplar/${id_ejemplar}`);\n      const jsonData = await response.json();\n      setEjemplares(jsonData);\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getEjemplar();\n  }, []);\n  const {\n    titulo,\n    sinopsis,\n    editorial,\n    autor,\n    anioedicion,\n    tipoencuadernado,\n    genero,\n    stock,\n    precioactual,\n    isbn\n  } = ejemplares1; //console.log(datos.nombreusuario)\n\n  var valor2 = datos.nombreusuario;\n  console.log(valor2);\n  var valor = ejemplares1.isbn;\n  console.log(valor);\n  const [resen, setResen] = useState({\n    resenias: \"\",\n    isbn: '',\n    nombreusuario: ''\n  });\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const res = await fetch(\"http://localhost:4000/Resenia2\", {\n      method: \"POST\",\n      body: JSON.stringify(resen),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = await res.json();\n    console.log(data);\n    {\n      window.location.href = `http://localhost:3000/${datos.correo}/detallejemplar/${id_ejemplar}`;\n    }\n  };\n\n  const handleChange = e => setResen({ ...resen,\n    [e.target.name]: e.target.value\n  });\n\n  resen.isbn = valor;\n  resen.nombreusuario = valor2;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contenedor-newresenia\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"400\",\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          direction: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                mt: 1,\n                backgroundColor: 'transparent',\n                boxShadow: 0\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                marginBottom: -1,\n                fontSize: 20,\n                fontFamily: \"Roboto\",\n                color: \"#000\",\n                marginLeft: 2,\n                children: \"  \\xA1Danos tu opinion!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: handleSubmit,\n                  children: [/*#__PURE__*/_jsxDEV(TextField, {\n                    fullWidth: true,\n                    id: \"fullWidth\",\n                    variant: \"filled\",\n                    label: \"Aqui escribe tu opinion\",\n                    multiline: true,\n                    rows: 1,\n                    color: \"secondary\",\n                    sx: {\n                      display: 'block',\n                      margin: '.5rem 0'\n                    },\n                    name: \"resenias\",\n                    onChange: handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    Button: true,\n                    variant: \"contained\",\n                    type: \"submit\",\n                    disableElevation: true,\n                    color: \"secondary\",\n                    children: \"Opinar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(NuevaResenia, \"6mLmTNg8VJlkYMNTzdc8OKhtAbg=\", false, function () {\n  return [useParams, useParams];\n});\n\n_c = NuevaResenia;\nexport default NuevaResenia;\n\nvar _c;\n\n$RefreshReg$(_c, \"NuevaResenia\");","map":{"version":3,"sources":["/home/estefania/Escritorio/front/src/componentes/NewRes.jsx"],"names":["React","useState","useEffect","Container","Grid","Card","CardContent","Typography","TextField","Button","useParams","NuevaResenia","datos","setDatos","params","cargarDatos","correo","response","fetch","data","json","id_ejemplar","ejemplares1","setEjemplares","getEjemplar","jsonData","err","console","error","message","titulo","sinopsis","editorial","autor","anioedicion","tipoencuadernado","genero","stock","precioactual","isbn","valor2","nombreusuario","log","valor","resen","setResen","resenias","handleSubmit","e","preventDefault","res","method","body","JSON","stringify","headers","window","location","href","handleChange","target","name","value","mt","backgroundColor","boxShadow","display","margin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Grid } from '@mui/material';\nimport { Card, CardContent } from '@mui/material';\nimport { Typography } from '@mui/material';\nimport { TextField } from '@mui/material';\nimport { Button } from '@mui/material';\nimport '../hojas-de-estilo/NewRes.css';\nimport {useParams} from 'react-router-dom';\n\nconst NuevaResenia = () => {\n\n    const [datos, setDatos] = useState ([])\n    const params = useParams();\n\n    const cargarDatos = async (correo) => {\n        const response = await fetch(`http://localhost:4000/Usuario2/${correo}`)\n        const data = await response.json()\n        setDatos(data);\n    };\n\n    useEffect(() => {\n        if (params.correo) {\n            cargarDatos(params.correo)\n        }\n    }, [params.correo])\n\n    let { id_ejemplar } = useParams();\n\n    const [ejemplares1, setEjemplares] = useState([]);\n\n    const getEjemplar = async () => {\n        try {\n            const response = await fetch(`http://localhost:4000/Ejemplar/${id_ejemplar}`);\n            const jsonData = await response.json();\n            setEjemplares(jsonData);\n        } catch (err) {\n            console.error(err.message);\n        }\n    };\n\n    useEffect(() => {\n        getEjemplar();\n    }, []);\n    const {titulo, sinopsis, editorial, autor, anioedicion, tipoencuadernado, genero, stock,  precioactual, isbn} = ejemplares1; \n\n    //console.log(datos.nombreusuario)\n    var valor2 = datos.nombreusuario;\n    console.log(valor2)\n\n    var valor = ejemplares1.isbn;\n    console.log(valor)\n\n    const [resen, setResen] = useState({\n        resenias: \"\",\n        isbn: '',\n        nombreusuario: '',\n    });\n\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const res = await fetch(\"http://localhost:4000/Resenia2\", {\n            method: \"POST\",\n            body: JSON.stringify(resen),\n            headers: { \"Content-Type\": \"application/json\" },\n        });\n        const data = await res.json();\n        console.log(data);\n        {window.location.href = `http://localhost:3000/${datos.correo}/detallejemplar/${id_ejemplar}`}\n    };\n\n\n    const handleChange = (e) =>\n        setResen({ ...resen, [e.target.name]: e.target.value });\n        resen.isbn = valor\n        resen.nombreusuario = valor2\n        \n\n    return (\n        <>\n            <div className='contenedor-newresenia'>\n                <Container maxWidth=\"400\" >\n                    <Grid\n                        direction=\"column\"\n                        alignItems=\"center\"\n                        justifyContent=\"center\"\n\n                    >\n                        <Grid>\n                            <Card sx={{ mt: 1, backgroundColor: 'transparent', boxShadow: 0 }}>\n                                <Typography marginBottom={-1} fontSize={20} fontFamily='Roboto' color={\"#000\"} marginLeft={2} >  ¡Danos tu opinion!</Typography>\n                                <CardContent>\n                                    <form onSubmit={handleSubmit} >\n                                        <TextField fullWidth id=\"fullWidth\"\n                                            variant='filled'\n                                            label='Aqui escribe tu opinion'\n                                            multiline\n                                            rows={1}\n                                            color=\"secondary\"\n                                            sx={{\n                                                display: 'block',\n                                                margin: '.5rem 0'\n                                            }}\n                                            name=\"resenias\"\n                                            onChange={handleChange}\n\n                                        />                                                                    \n                                        <Button Button variant=\"contained\" type='submit' disableElevation color=\"secondary\"  >Opinar</Button>\n                                    </form>\n                                </CardContent>\n                            </Card>\n                        </Grid>\n                    </Grid>\n                </Container>\n            </div>\n        </>\n    );\n}\n\nexport default NuevaResenia;"]},"metadata":{},"sourceType":"module"}