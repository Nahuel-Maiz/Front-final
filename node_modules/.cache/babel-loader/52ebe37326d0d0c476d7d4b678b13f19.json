{"ast":null,"code":"import _slicedToArray from \"/Users/franciscojavierjimenezcohen/Desktop/trabajo Final/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/franciscojavierjimenezcohen/Desktop/trabajo Final/front/src/componentes/Libros.jsx\";\nimport { Card, Container, Grid, Typography, CardMedia, CardContent, CardActions, Button, Box } from \"@mui/material\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport '../hojas-de-estilo/Libros.css';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport AddIcon from '@mui/icons-material/Add';\nimport { useParams } from 'react-router-dom';\n\nconst LibrosAd = () => {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        ejemplares = _useState2[0],\n        setEjemplares = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        datos = _useState4[0],\n        setDatos = _useState4[1];\n\n  const params = useParams();\n\n  const getEjemplares = async () => {\n    try {\n      const response = await fetch(\"http://localhost:4000/Ejemplares\");\n      const jsonData = await response.json();\n      setEjemplares(jsonData);\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  const handleDelete = async id_ejemplar => {\n    const res = await fetch(\"http://localhost:4000/Ejemplar/\".concat(id_ejemplar), {\n      method: 'DELETE'\n    });\n    setEjemplares(ejemplares.filter(ejemplar => ejemplar.id_ejemplar !== id_ejemplar));\n  };\n\n  useEffect(() => {\n    getEjemplares();\n  }, []);\n  useEffect(() => {\n    console.log(ejemplares);\n  }, [ejemplares]);\n\n  const cargarDatos = async correo => {\n    const response = await fetch(\"http://localhost:4000/Usuario2/\".concat(correo));\n    const data = await response.json();\n    setDatos(data);\n    console.log(data);\n  };\n\n  useEffect(() => {\n    if (params.correo) {\n      cargarDatos(params.correo);\n    }\n  }, [params.correo]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\".concat(datos.correo, \"/nuevoejemplar\"),\n    className: \"nuevolibroad2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    variant: \"contained\",\n    color: \"error\",\n    className: \"nuevolibroad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, \"Nuevo Libro \", /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 113\n    }\n  }))), /*#__PURE__*/React.createElement(Typography, {\n    marginBottom: 1,\n    marginTop: 1,\n    fontSize: 30,\n    fontFamily: \"Roboto\",\n    color: \"#ffff\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \" Libros disponibles\"), ejemplares ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, ejemplares.map(ejemplar => /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    sx: {\n      maxWidth: 350\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(CardMedia, {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      maxHeight: 350\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: ejemplar.img ? require(\"../imagenes/\".concat(ejemplar.img)) : \"\",\n    className: \"fotografia1\",\n    alt: \"Libro no encontrado\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h9\",\n    component: \"div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 45\n    }\n  }, ejemplar.titulo), /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h6\",\n    component: \"div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 45\n    }\n  }, \"$\", ejemplar.precioactual)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(CardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    variant: \"contained\",\n    color: \"secondary\",\n    className: \"editad\",\n    sx: {\n      margin: 0.8\n    },\n    onClick: () => console.log('editando'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\".concat(datos.correo, \"/nuevoejemplar/\").concat(ejemplar.id_ejemplar, \"/edit\"),\n    className: \"boton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 53\n    }\n  }, \"Editar\"), \"  \", /*#__PURE__*/React.createElement(EditIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 160\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    variant: \"contained\",\n    color: \"error\",\n    onClick: () => handleDelete(ejemplar.id_ejemplar),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 49\n    }\n  }, \"Borrar \", /*#__PURE__*/React.createElement(DeleteIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 162\n    }\n  }))))))))) : null));\n};\n\nexport default LibrosAd;","map":{"version":3,"sources":["/Users/franciscojavierjimenezcohen/Desktop/trabajo Final/front/src/componentes/Libros.jsx"],"names":["Card","Container","Grid","Typography","CardMedia","CardContent","CardActions","Button","Box","React","Component","useState","useEffect","Link","DeleteIcon","EditIcon","AddIcon","useParams","LibrosAd","ejemplares","setEjemplares","datos","setDatos","params","getEjemplares","response","fetch","jsonData","json","err","console","error","message","handleDelete","id_ejemplar","res","method","filter","ejemplar","log","cargarDatos","correo","data","map","maxWidth","display","justifyContent","maxHeight","img","require","titulo","precioactual","margin"],"mappings":"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","sourcesContent":["import { Card, Container, Grid, Typography, CardMedia, CardContent, CardActions, Button, Box } from \"@mui/material\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport '../hojas-de-estilo/Libros.css';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport AddIcon from '@mui/icons-material/Add';\nimport { useParams } from 'react-router-dom'; \n\n\nconst LibrosAd = () => {\n\n    const [ejemplares, setEjemplares] = useState();\n    const [datos, setDatos] = useState ([])\n    const params = useParams();\n\n    const getEjemplares = async () => {\n        try {\n            const response = await fetch(`http://localhost:4000/Ejemplares`);\n            const jsonData = await response.json();\n            setEjemplares(jsonData);\n        } catch (err) {\n            console.error(err.message);\n        }\n    };\n\n    const handleDelete = async (id_ejemplar) => {\n        const res = await fetch(`http://localhost:4000/Ejemplar/${id_ejemplar}`, {\n            method: 'DELETE',\n        })\n        setEjemplares(ejemplares.filter(ejemplar => ejemplar.id_ejemplar !== id_ejemplar));\n    }\n\n\n    useEffect(() => {\n        getEjemplares()\n    }, [])\n\n    useEffect(() => { console.log(ejemplares) }, [ejemplares])\n\n    const cargarDatos = async (correo) => {\n        const response = await fetch(`http://localhost:4000/Usuario2/${correo}`)\n        const data = await response.json()\n        setDatos(data);\n        console.log(data)\n    };\n\n    useEffect(() => {\n        if (params.correo) {\n            cargarDatos(params.correo)\n        }\n    }, [params.correo])\n    \n\n    return (\n\n        <>\n            <Container>\n                <Link to={`/${datos.correo}/nuevoejemplar`} className=\"nuevolibroad2\">\n                    <Button size=\"small\" variant=\"contained\" color=\"error\" className=\"nuevolibroad\">Nuevo Libro <AddIcon /></Button>\n                </Link>\n\n                <Typography marginBottom={1} marginTop={1} fontSize={30} fontFamily='Roboto' color={\"#ffff\"}> Libros disponibles</Typography>\n                {ejemplares ? (\n                    <>\n                        <Grid container spacing={2}>\n                            {ejemplares.map((ejemplar) => (\n                                <Grid item xs={3}>\n                                    <Card sx={{ maxWidth: 350 }}>\n                                        <CardMedia style={{ display: 'flex', justifyContent: 'center', maxHeight: 350 }}>\n                                            <img src={ejemplar.img ? require(`../imagenes/${ejemplar.img}`) : \"\"} className='fotografia1' alt=\"Libro no encontrado\" />\n                                        </CardMedia>\n                                        <CardContent>\n                                            <Typography gutterBottom variant=\"h9\" component=\"div\">\n                                                {ejemplar.titulo}\n                                            </Typography>\n                                            <Typography gutterBottom variant=\"h6\" component=\"div\">\n                                                ${ejemplar.precioactual}\n                                            </Typography>\n\n                                        </CardContent>\n                                        <div >\n                                            <CardActions>\n                                                <Button size=\"small\" variant=\"contained\" color=\"secondary\" className=\"editad\" sx={{ margin: 0.8 }} onClick={() => console.log('editando')}>\n                                                    <Link to={`/${datos.correo}/nuevoejemplar/${ejemplar.id_ejemplar}/edit`} className='boton' >Editar</Link>  <EditIcon />\n                                                </Button>\n\n                                                <Button size=\"small\" variant=\"contained\" color=\"error\" onClick={() => handleDelete(ejemplar.id_ejemplar)}>Borrar <DeleteIcon /></Button>\n\n                                            </CardActions>\n                                        </div>\n                                    </Card>\n                                </Grid>\n\n                            ))}\n                        </Grid>\n                    </>\n                ) : null}\n            </Container>\n\n\n        </>\n\n    );\n\n}\n\nexport default LibrosAd;\n"]},"metadata":{},"sourceType":"module"}